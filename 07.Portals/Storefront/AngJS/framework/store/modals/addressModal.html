<div class="modal-header bg-dark text-light">
  <h3 class="modal-title" sid="AddressModalHeaderText"
    data-translate="{{contactModalCtrl.modalTitle
      || 'ui.storefront.userDashboard2.controls.addressEditor2.AddANewAddress'}}">
  </h3>
  <button type="button" class="close"
    id="btnAddModalCancelHeader"
    translate-attr="{ title: 'ui.storefront.common.Close',
                      'aria-label': 'ui.storefront.common.Close' }"
    ng-click="contactModalCtrl.cancel()">
    <i class="far fa-times text-light" aria-hidden="true"></i>
    <span class="sr-only" data-translate="ui.storefront.common.Close"></span>
  </button>
</div>
<div class="modal-body form-vertical" ng-form="contactModalCtrl.forms.contact">
  <div class="row">
    <div class="col-12"
      cef-contact-widget
      contact="contactModalCtrl.contact"
      address-key="contactModalCtrl.showKey
        && contactModalCtrl.cefConfig.featureSet.addressBook.enabled
        && contactModalCtrl.cvAuthenticationService.isAuthenticated()"
      address-title="contactModalCtrl.addressTitle"
      use-phone-prefix-lookups="contactModalCtrl.usePhonePrefixLookups"
      restricted-shipping="contactModalCtrl.restrictedShipping"
      id-suffix="contactModalCtrl.idSuffix"
      on-input-change="contactModalCtrl.callOnChangeIfSet()"
      is-billing="contactModalCtrl.isBilling">
    </div>
  </div>
</div>
<div class="modal-footer">
  <div ng-if="contactModalCtrl.viewState.hasError"
    class="alert alert-danger mb-0 p-2" role="alert">
    <p class="text-left small"><span
      ng-repeat="m in contactModalCtrl.viewState.errorMessages"
      >{{$first ? '' : ' '}}{{m}}</span></p>
  </div>
  <button type="button" class="btn btn-outline-secondary"
    id="btnAddModalCancelFooter" name="btnAddModalCancelFooter"
    translate-attr="{ title: 'ui.storefront.common.Cancel',
                      'aria-label': 'ui.storefront.common.Cancel' }"
    data-translate="ui.storefront.common.Cancel"
    ng-click="contactModalCtrl.cancel()">
  </button>
  <button type="button" class="btn btn-primary"
    id="btnAddAddressFooter" name="btnAddAddressFooter"
    translate-attr="{ title: contactModalCtrl.buttonTitle
        || 'ui.storefront.checkout.splitShipping.addressModal.AddAddress',
      'aria-label': contactModalCtrl.buttonTitle
        || 'ui.storefront.checkout.splitShipping.addressModal.AddAddress' }"
    data-translate="{{contactModalCtrl.buttonTitle
      || 'ui.storefront.checkout.splitShipping.addressModal.AddAddress'}}"
    ng-disabled="contactModalCtrl.forms.contact.$invalid
      || contactModalCtrl.forms.contact.$pristine
      || !contactModalCtrl.contact.Address.CountryID
      || contactModalCtrl.viewState.running"
    ng-click="contactModalCtrl.ok()">
  </button>
</div>
