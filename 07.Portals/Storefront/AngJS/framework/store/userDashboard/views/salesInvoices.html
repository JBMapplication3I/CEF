<div ng-controller="StoreSearchController as search">
  <div class="row" ng-controller="PayInvoicesController as payInvoicesCtrl">
    <div class="col md-text-right lg-text-right xl-text-right tk-text-right fk-text-right"
      ng-if="payInvoicesCtrl.cefConfig.featureSet.salesInvoices.canPayViaUserDashboard.multiple.enabled">
      <button type="button" class="btn btn-outline-secondary rounded"
        id="btnPayInvoices" name="btnPayInvoices"
        translate-attr="{ title: 'ui.storefront.userDashboard2.views.salesinvoices.PayInvoices',
                          'aria-label': 'ui.storefront.userDashboard2.views.salesinvoices.PayInvoices' }"
        data-translate="ui.storefront.userDashboard2.views.salesinvoices.PayInvoices"
        ng-disabled="payInvoicesCtrl.disabled"
        ng-click="payInvoicesCtrl.open()">
      </button>
    </div>
  </div>
  <div class="row">
    <cv-grid class="col"
      show-pager="true"
      page-sizes="8,16,32,64"
      default-page-size="8"
      server-paging="true"
      sortable="false"
      server-sorting="true"
      force-show-labels="true"
      labels-on-top="true"
      dont-use-full-height="true"
      on-search="search.getCurrentAccountSalesInvoices"
      detail-state="userDashboard.salesInvoices.detail,[ID]"
      button-index="invoices">
      <cv-column hidden
        field="StatusID"
        title-key="ui.storefront.userDashboard2.controls.salesDetail.Status"
        filter
        filter-type="select"
        on-option-repeat="$parent.search.getSalesInvoiceStatuses">
        <option value="" selected
          data-translate="ui.storefront.common.Any">
        </option>
      </cv-column>
      <cv-column
        field="ID"
        title-key="ui.storefront.storeDashboard.storeProductEditor.ID"
        filter
        filter-type="id"
        width="13%"
        cell-class="text-right" />
      <cv-column
        if="$root.cefConfig.featureSet.salesInvoices.hasIntegratedKeys"
        filter
        field="CustomKey"
        title-key="ui.storefront.common.Key"
        width="26%" />
      <cv-column
        field="Totals.Total"
        title-key="ui.storefront.common.Total"
        width="20%"
        cell-class="text-right"
        format="globalizedCurrency : dataItem.SerializableAttributes.SellingCurrencyKey.Value" />
      <cv-column
        field="CreatedDate"
        title-key="ui.storefront.common.Date"
        width="26%"
        format="yyyy MMM dd hh:mm a"
        type="date"
        filter
        filter-type="minMaxDate"
        filter-colspan="5"
        sort-by="1"
        sort-by-direction="desc" />
      <cv-column
        field="StatusID"
        type="statusID"
        title-key="ui.storefront.userDashboard2.controls.salesDetail.Status"
        preload-statuses-kind="SalesInvoice"
        width="40%" />
    </cv-grid>
  </div>
</div>
