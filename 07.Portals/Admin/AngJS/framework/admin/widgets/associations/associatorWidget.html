<div class="row form-vertical" ng-form="associatorWidgetCtrl.forms.associate">
  <div class="col-sm-12">
    <h3 class="mb-3" data-translate="{{associatorWidgetCtrl.titleKey}}"></h3>
  </div>
  <div class="col-sm-12 col-md-6 col-lg-8">
    <h4 data-translate="{{associatorWidgetCtrl.selectKey}}"></h4>
    <div cef-paging-header paging="associatorWidgetCtrl.paging"></div>
    <div class="table-responsive">
      <table class="table table-striped table-hover table-condensed mb-0">
        <thead>
          <tr>
            <th class="w-5" data-translate="ui.admin.common.Number.Symbol"></th>
            <th class="w-35" data-translate="ui.admin.common.Key"></th>
            <th class="w-60" data-translate="ui.admin.common.Name"></th>
            <th style="width:43px;"></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-show="associatorWidgetCtrl.paging.filteredCount === 0">
            <td colspan="4" data-translate="ui.admin.controls.sales.modals.editALineItemModal.NoResultsFound"></td>
          </tr>
          <tr ng-repeat="x in associatorWidgetCtrl.paging.filteredData[associatorWidgetCtrl.paging.currentPage]
            | orderBy: ['SortOrder','Group','DisplayName || Name','CustomKey']
            | limitTo: associatorWidgetCtrl.paging.pageSize
                     : associatorWidgetCtrl.paging.skip()">
            <td><label class="font-weight-normal form-control-static" ng-bind="x.ID"></label></td>
            <td><label class="font-weight-normal form-control-static" ng-bind="x.CustomKey"></label></td>
            <td><label class="font-weight-normal form-control-static" ng-bind="x.Name"></label></td>
            <td>
              <button type="button" class="btn btn-success"
                translate-attr="{ title: 'ui.admin.common.Add',
                                  'aria-label': 'ui.admin.common.Add' }"
                ng-click="associatorWidgetCtrl.add(x.ID)">
                <i class="far fa-plus"></i>
                <span class="sr-only" data-translate="ui.admin.common.Add"></span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-sm-12 col-md-6 col-lg-4 scroll-over-500">
    <h4 data-translate="{{associatorWidgetCtrl.addedKey}}"></h4>
    <label class="control-label" for="txtAddedQuickFilter"
      data-translate="ui.admin.common.QuickFilter">
    </label>
    <input type="text" class="form-control mb-3"
      id="txtAddedQuickFilter" name="txtAddedQuickFilter"
      translate-attr="{ placeholder: 'ui.admin.common.QuickFilter' }"
      ng-model="associatorWidgetCtrl.addedQuickFilter" />
    <table class="table table-striped table-hover table-condensed mb-0">
      <thead>
        <tr>
          <th data-translate="{{associatorWidgetCtrl.addedSubKey}}"></th>
          <th style="width:43px;"></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-if="!(associatorWidgetCtrl.master[associatorWidgetCtrl.collection]
          | filter: { $: associatorWidgetCtrl.addedQuickFilter }).length">
          <td colspan="2"
            data-translate="ui.admin.controls.sales.modals.editALineItemModal.NoResultsFound">
          </td>
        </tr>
        <tr ng-repeat="x in associatorWidgetCtrl.master[associatorWidgetCtrl.collection]
          | filter: { $: associatorWidgetCtrl.addedQuickFilter }
          | orderBy: ['SlaveName || Slave.Name']">
          <td>
            <label class="font-weight-normal form-control-static"
              uib-tooltip="{{'#' + (x.SlaveID | zeroPadNumber: 6)
                + ' ' + (x.SlaveName || x.Slave.Name)
                + ' [' + (x.SlaveKey || x.Slave.CustomKey) + ']'}}"
              tooltip-placement="auto top-left"
              ng-bind="x.SlaveName || x.Slave.Name">
            </label>
          </td>
          <td>
            <button type="button" class="btn btn-danger"
              translate-attr="{ title: 'ui.admin.common.Remove',
                                'aria-label': 'ui.admin.common.Remove' }"
              ng-click="associatorWidgetCtrl.remove($index)">
              <i class="far fa-times"></i>
              <span class="sr-only" data-translate="ui.admin.common.Remove"></span>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
