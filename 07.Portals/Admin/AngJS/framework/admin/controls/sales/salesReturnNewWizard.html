<div class="container-fluid cv-wizard-form full-height">
    <div class="row wizard-header">
        <div class="col-md-12 details-title">
            <span>
                <span data-translate="ui.admin.views.home.NewSalesReturn"></span>&nbsp;<!--
                -->[{{salesReturnNewWizardCtrl.salesReturn.CustomKey || 'No Key Set'}}]&nbsp;<!--
                --><span data-translate="ui.admin.common.ForAccount"></span>&nbsp;<!--
                -->{{salesReturnNewWizardCtrl.salesReturn.AccountKey || salesReturnNewWizardCtrl.salesReturn.Account.CustomKey || 'Unassigned'}}&nbsp;<!--
                --><span data-translate="ui.admin.common.User"></span>&nbsp;<!--
                -->{{salesReturnNewWizardCtrl.salesReturn.UserID}}&nbsp;<!--
                -->{{salesReturnNewWizardCtrl.salesReturn.UserUserName || salesReturnNewWizardCtrl.salesReturn.User.UserName || 'Unassigned'}}
            </span>
        </div>
    </div>
    <div class="row wizard-body">
        <div class="col-md-12 wizard-steps">
            <uib-tabset class="tabs-left" vertical="true" active="salesReturnNewWizardCtrl.currentStep">
                <uib-tab ng-hide="salesReturnNewWizardCtrl.isSalesOrderPreSelected" ng-disabled="salesReturnNewWizardCtrl.isSalesOrderPreSelected">
                    <uib-tab-heading><span ng-class="{'text-danger':salesReturnNewWizardCtrl.forms.UserAndAccount.$invalid}"><!--
                    --><i class="far fa-lg fa-users"></i>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesOrderNewWizard.Step1"></span>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesOrderNewWizard.UserAndAccount"></span></span></uib-tab-heading>
                    <div class="form-vertical container-fluid" ng-form="salesReturnNewWizardCtrl.forms.UserAndAccount">
                        <div class="row"><div class="col-md-12"><h3 data-translate="ui.admin.controls.sales.salesOrderNewWizard.UserAndOrAccountInformation"></h3></div></div>
                        <div class="row">
                            <div class="col-md-12">
                                <p data-translate="ui.admin.controls.sales.salesOrderNewWizard.AccountOrUserRequired"></p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group"
                                     ng-class="{'has-error': salesReturnNewWizardCtrl.forms.UserAndAccount.taAccount.$invalid}">
                                    <label class="control-label" for="taAccount"
                                           data-translate="ui.admin.common.Account"></label>
                                    <div class="input-group">
                                        <input type="text" class="form-control typeahead"
                                               id="taAccount" name="taAccount"
                                               ng-required="!salesReturnNewWizardCtrl.accountID && !salesReturnNewWizardCtrl.userID"
                                               translate-attr="{ placeholder: 'ui.admin.controls.sales.salesOrderNewWizard.SearchAccounts.Ellipses' }"
                                               uib-typeahead="a.ID as (a.Name + (a.CustomKey && a.CustomKey != '' ? ' [' + a.CustomKey + ']' : ''))
                                                              for a in salesReturnNewWizardCtrl.grabAccounts(salesReturnNewWizardCtrl.accountToGrab)"
                                               typeahead-wait-ms="500" typeahead-min-length="1" typeahead-no-results="salesReturnNewWizardCtrl.noAccountResults"
                                               typeahead-loading="salesReturnNewWizardCtrl.loadingAccounts"
                                               typeahead-on-select="salesReturnNewWizardCtrl.selectAccountFromTypeAhead($item, $model, $label, $event)"
                                               ng-model="salesReturnNewWizardCtrl.accountToGrab" />
                                        <div class="input-group-addon">
                                            <i class="far fa-refresh" ng-if="salesReturnNewWizardCtrl.loadingAccounts"></i>
                                            <i class="far fa-times" ng-if="salesReturnNewWizardCtrl.noAccountResults"></i>
                                            <i class="far fa-check" ng-if="salesReturnNewWizardCtrl.accountID"></i>
                                            <i class="far fa-question"
                                               ng-if="!salesReturnNewWizardCtrl.loadingAccounts
                                                      && !salesReturnNewWizardCtrl.noAccountResults
                                                      && !salesReturnNewWizardCtrl.accountID"></i>
                                        </div>
                                    </div>
                                    <div ng-show="salesReturnNewWizardCtrl.noAccountResults"
                                         data-translate="ui.admin.controls.sales.salesOrderNewWizard.NoAccountsFound"></div>
                                    <div ng-messages="productDetailCtrl.forms.UserAndAccount.taAccount.$error">
                                        <div ng-messages-include="{{'/framework/admin/widgets/forms/_validationMessages.html' | corsLink: 'ui'}}"></div>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="salesReturnNewWizardCtrl.account">
                                    <b data-translate="ui.admin.common.ID"></b> {{salesReturnNewWizardCtrl.accountID}}
                                    <b data-translate="ui.admin.common.Key"></b> {{salesReturnNewWizardCtrl.account.CustomKey}}<br />
                                    <b data-translate="ui.admin.common.Name"></b> {{salesReturnNewWizardCtrl.account.Name}}<br />
                                    <b data-translate="ui.admin.common.Active"></b> {{('ui.admin.common.' + salesReturnNewWizardCtrl.account.Active ? "Yes" : "No") | translate}}
                                    <b data-translate="ui.admin.common.OnHold"></b> {{('ui.admin.common.' + salesReturnNewWizardCtrl.account.IsOnHold ? "Yes" : "No") | translate}}<br />
                                    <b data-translate="ui.admin.common.Status"></b> {{salesReturnNewWizardCtrl.account.StatusDisplayName || salesReturnNewWizardCtrl.salesReturn.Account.StatusName}}<br />
                                    <b data-translate="ui.admin.common.Type"></b> {{salesReturnNewWizardCtrl.account.TypeDisplayName || salesReturnNewWizardCtrl.salesReturn.Account.TypeName}}
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group" ng-class="{'has-error': salesReturnNewWizardCtrl.forms.UserAndAccount.taUser.$invalid}">
                                    <label class="control-label" for="taUser" data-translate="ui.admin.common.User"></label>
                                    <div class="input-group">
                                        <input type="text" class="form-control typeahead"
                                               id="taUser" name="taUser"
                                               ng-required="!salesReturnNewWizardCtrl.accountID && !salesReturnNewWizardCtrl.userID"
                                               translate-attr="{ placeholder: 'ui.admin.controls.sales.salesOrderNewWizard.SearchUsers.Ellipses' }"
                                               uib-typeahead="u.ID as (u.ContactFirstName + ' ' + u.ContactLastName + ' [' + u.Username + ']')
                                                              for u in salesReturnNewWizardCtrl.grabUsers(salesReturnNewWizardCtrl.userToGrab)"
                                               typeahead-wait-ms="500" typeahead-min-length="1" typeahead-no-results="salesReturnNewWizardCtrl.noUserResults"
                                               typeahead-loading="salesReturnNewWizardCtrl.loadingUsers"
                                               typeahead-on-select="salesReturnNewWizardCtrl.selectUserFromTypeAhead($item, $model, $label, $event)"
                                               ng-model="salesReturnNewWizardCtrl.userToGrab" />
                                        <div class="input-group-addon">
                                            <i class="far fa-refresh" ng-if="salesReturnNewWizardCtrl.loadingUsers"></i>
                                            <i class="far fa-times" ng-if="salesReturnNewWizardCtrl.noUserResults"></i>
                                            <i class="far fa-check" ng-if="salesReturnNewWizardCtrl.salesReturn.UserID"></i>
                                            <i class="far fa-question"
                                               ng-if="!salesReturnNewWizardCtrl.loadingUsers
                                                      && !salesReturnNewWizardCtrl.noUserResults
                                                      && !salesReturnNewWizardCtrl.salesReturn.UserID"></i>
                                        </div>
                                    </div>
                                    <div ng-show="salesReturnNewWizardCtrl.noUserResults"
                                         data-translate="ui.admin.controls.sales.salesOrderNewWizard.NoUsersFound"></div>
                                    <div ng-messages="productDetailCtrl.forms.UserAndAccount.taUser.$error">
                                        <div ng-messages-include="{{'/framework/admin/widgets/forms/_validationMessages.html' | corsLink: 'ui'}}"></div>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="salesReturnNewWizardCtrl.salesReturn.User">
                                    <b data-translate="ui.admin.common.ID"></b> {{salesReturnNewWizardCtrl.salesReturn.UserID}}
                                    <b data-translate="ui.admin.common.Key"></b> {{salesReturnNewWizardCtrl.salesReturn.User.CustomKey}}
                                    <b data-translate="ui.admin.common.Username"></b> {{salesReturnNewWizardCtrl.salesReturn.User.UserName}}<br />
                                    <b data-translate="ui.admin.common.Name"></b> {{salesReturnNewWizardCtrl.salesReturn.User.ContactFirstName}} {{salesReturnNewWizardCtrl.salesReturn.User.ContactLastName}}<br />
                                    <b data-translate="ui.admin.common.Active"></b> {{('ui.admin.common.' + salesReturnNewWizardCtrl.salesReturn.User.Active ? "Yes" : "No") | translate}}
                                    <b data-translate="ui.admin.common.Status"></b> {{salesReturnNewWizardCtrl.salesReturn.User.StatusDisplayName || salesReturnNewWizardCtrl.salesReturn.User.StatusName}}<br />
                                    <b data-translate="ui.admin.common.Type"></b> {{salesReturnNewWizardCtrl.salesReturn.User.TypeDisplayName || salesReturnNewWizardCtrl.salesReturn.User.TypeName}}<br />
                                    <b data-translate="ui.admin.common.Account"></b> {{salesReturnNewWizardCtrl.salesReturn.User.AccountKey || salesReturnNewWizardCtrl.salesReturn.User.Account.CustomKey || 'Unassigned'}}
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab ng-hide="salesReturnNewWizardCtrl.isSalesOrderPreSelected" ng-disabled="salesReturnNewWizardCtrl.isSalesOrderPreSelected">
                    <uib-tab-heading><span ng-class="{'text-danger': salesReturnNewWizardCtrl.forms.SalesOrder.$invalid}"><!--
                    --><i class="far fa-lg fa-shopping-cart"></i>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesOrderNewWizard.Step2"></span>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesReturnNewWizard.SalesOrder"></span></span></uib-tab-heading>
                    <div class="form-vertical container-fluid" ng-form="salesReturnNewWizardCtrl.forms.SalesOrder">
                        <div class="row"><div class="col-md-12"><h3 data-translate="ui.admin.controls.sales.salesOrderDetail.SalesOrder"></h3></div></div>
                        <div class="row full-height">
                            <div class="col-md-12 full-height">
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover table-condensed">
                                        <thead>
                                            <tr>
                                                <th data-translate="ui.admin.common.Select"></th>
                                                <th data-translate="ui.admin.common.Number.Symbol"></th>
                                                <th data-translate="ui.admin.common.Key"></th>
                                                <th data-translate="ui.admin.common.Quantity"></th>
                                                <th data-translate="ui.admin.common.Total"></th>
                                                <th data-translate="ui.admin.common.OrderDate"></th>
                                                <th data-translate="ui.admin.common.Status"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-if="!salesReturnNewWizardCtrl.salesOrders.length">
                                                <td colspan="7"
                                                    data-translate="ui.admin.controls.sales.salesReturnNewWizard.NoSalesOrderWereFoundWithThisSearchCriteria"></td>
                                            </tr>
                                            <tr ng-repeat="salesOrder in salesReturnNewWizardCtrl.salesOrders">
                                                <td class="text-center">
                                                    <input type="radio"
                                                           id="salesOrder{{salesOrder.ID}}" name="salesOrderID"
                                                           ng-required="true"
                                                           ng-value="{{salesOrder}}"
                                                           ng-model="salesReturnNewWizardCtrl.selectedSalesOrder" />
                                                </td>
                                                <td ng-bind="salesOrder.ID"></td>
                                                <td ng-bind="salesOrder.CustomKey"></td>
                                                <td ng-bind="salesOrder.ItemQuantity | number:0" class="text-right"></td>
                                                <td ng-bind="salesOrder.Totals.Total | currency" class="text-right"></td>
                                                <td ng-bind="salesOrder.CreatedDate | date: 'yyyy-dd-MM hh:mm a'"></td>
                                                <td ng-bind="salesOrder.StatusKey"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading><span ng-class="{'text-danger': salesReturnNewWizardCtrl.forms.SalesOrderItems.$invalid}"><!--
                    --><i class="far fa-lg fa-shopping-cart"></i>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesOrderNewWizard.Step{{(salesReturnNewWizardCtrl.isSalesOrderPreSelected ? '1' : '3')}}"></span>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesOrderDetail.SalesOrderItems"></span></span></uib-tab-heading>
                    <div class="form-vertical container-fluid" ng-form="salesReturnNewWizardCtrl.forms.SalesOrderItems">
                        <div class="row"><div class="col-md-12"><h3 data-translate="ui.admin.controls.sales.salesOrderDetail.SalesOrderItems"></h3></div></div>
                        <div class="row full-height">
                            <div class="col-md-12 full-height">
                                <div class="table-responsive">
                                    <table class="table table-condensed table-stripe table-hover">
                                        <thead>
                                            <tr class="first last">
                                                <th class="w-5 hidden-print"></th>
                                                <th class="w-16 col-xs-3 col-sm-2"
                                                    data-translate="ui.admin.common.Sku"></th>
                                                <th class="w-40 col-sm-5 col-md-5 col-lg-5"
                                                    data-translate="ui.admin.common.Name"></th>
                                                <th class="w-8 col-sm-1 text-center"
                                                    data-translate="ui.admin.controls.sales.salesReturnNewWizard.PurchasedQuantity"></th>
                                                <th class="w-8 col-sm-1 text-center"
                                                    data-translate="ui.admin.controls.salesReturnNewWizard.ReturnableQuantity"></th>
                                                <th class="w-8 col-sm-1 text-center"
                                                    data-translate="ui.admin.controls.salesReturnNewWizard.ReturningQuantity"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat-start="item in salesReturnNewWizardCtrl.selectedSalesOrder.SalesItems">
                                                <td rowspan="2">
                                                    <!-- Note: Never disabled, Admin can return all items -->
                                                    <toggle id="ckSelected{{item.ID}}" name="ckSelected{{item.ID}}" class="btn-block"
                                                            ng-disabled="salesReturnNewWizardCtrl.itemsModel[item.ID].QuantityReturnable == 0"
                                                            ng-change="salesReturnNewWizardCtrl.updateSelectedItems(item.ID)"
                                                            ng-model="salesReturnNewWizardCtrl.itemsModel[item.ID].itemChecked"
                                                            data-on="Return" data-truestyle="btn-danger"
                                                            data-off="Keep" data-offstyle="btn-info"></toggle>
                                                </td>
                                                <td>
                                                    <label class="form-control-static text-weight-normal"
                                                           ng-bind="item.ProductKey || item.Product.CustomKey || item.Sku"></label>
                                                </td>
                                                <td>
                                                    <label class="form-control-static text-weight-normal"
                                                           ng-bind="item.ProductName || item.Product.Name || item.Name"></label>
                                                </td>
                                                <td class="text-center">
                                                    <label class="form-control-static text-weight-normal text-right"
                                                           ng-bind="item.Quantity + (item.QuantityBackOrdered || 0) + (item.QuantityPreSold || 0)"></label>
                                                </td>
                                                <td class="text-center">
                                                    <label class="form-control-static text-weight-normal text-right"
                                                           ng-bind="salesReturnNewWizardCtrl.itemsModel[item.ID].QuantityReturnable"></label>
                                                </td>
                                                <td class="text-center">
                                                    <input ng-hide="salesReturnNewWizardCtrl.checkDisableControl(item.ID)"
                                                           type="number" class="form-control text-right"
                                                           ng-required="salesReturnNewWizardCtrl.itemsModel[item.ID].itemChecked"
                                                           step="1" min="1" max="{{salesReturnNewWizardCtrl.itemsModel[item.ID].QuantityReturnable}}"
                                                           ng-model="salesReturnNewWizardCtrl.itemsModel[item.ID].SelectedQuantity" />
                                                </td>
                                            </tr>
                                            <tr ng-repeat-end>
                                                <td colspan="5" ng-hide="salesReturnNewWizardCtrl.checkDisableControl(item.ID)">
                                                    <div class="form-group"
                                                         ng-class="{'has-error': salesReturnNewWizardCtrl.forms.SalesOrderItems['ddlReturnReason'+item.ID].$invalid}">
                                                        <select class="form-control"
                                                                id="ddlReturnReason{{item.ID}}" name="ddlReturnReason{{item.ID}}"
                                                                ng-required="salesReturnNewWizardCtrl.itemsModel[item.ID].itemChecked"
                                                                ng-options="reason.ID as reason.Name for reason in salesReturnNewWizardCtrl.reasons"
                                                                ng-model="salesReturnNewWizardCtrl.itemsModel[item.ID].selectedReason">
                                                            <option value="" ng-disabled="true"
                                                                    data-translate="ui.admin.controls.sales.salesReturnNewWizard.SelectAReasonForReturningThisItem"></option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group mb-0"
                                                         ng-class="{'has-error': salesReturnNewWizardCtrl.forms.SalesOrderItems['txtaDescription'+item.ID].$invalid}">
                                                        <textarea class="form-control w-100" style="resize: none;"
                                                                  id="txtaDescription{{item.ID}}" name="txtaDescription{{item.ID}}"
                                                                  rows="5"
                                                                  translate-attr="{ placeholder: 'ui.admin.common.AdditionalInformation' }"
                                                                  ng-required="salesReturnNewWizardCtrl.itemsModel[item.ID].itemChecked"
                                                                  ng-model="salesReturnNewWizardCtrl.itemsModel[item.ID].itemNote"></textarea>
                                                    </div>
                                                    <p ng-show="salesReturnNewWizardCtrl.hasRestockFee(item.ID)"
                                                       class="mt-1 mb-0"
                                                       data-translate="ui.admin.controls.sales.salesReturnNewWizard.ReturningThisItemMightIncurARestockingFee"></p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading><span ng-class="{'text-danger': salesReturnNewWizardCtrl.forms.Notes.$invalid}"><!--
                    --><i class="far fa-lg fa-sticky-note"></i>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesOrderNewWizard.Step{{(salesReturnNewWizardCtrl.isSalesOrderPreSelected ? '2' : '4')}}"></span>&nbsp;<!--
                    --><span data-translate="ui.admin.common.Note.Plural"></span></span></uib-tab-heading>
                    <div class="container-fluid" ng-form="salesReturnNewWizardCtrl.forms.Notes">
                        <div class="row">
                            <div class="col-md-12">
                                <h3 data-translate="ui.admin.common.PrivateNote.Plural"></h3>
                                <div cef-notes-editor
                                     notes="salesReturnNewWizardCtrl.salesReturn.Notes"
                                     note-type-name="'Private'"></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h3 data-translate="ui.admin.controls.sales.salesReturnDetail.ReturnNote.Plural"></h3>
                                <div cef-notes-editor
                                     notes="salesReturnNewWizardCtrl.salesReturn.Notes"
                                     note-type-name="'Return'"></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h3 data-translate="ui.admin.common.CustomerNote.Plural"></h3>
                                <div cef-notes-editor
                                     notes="salesReturnNewWizardCtrl.salesReturn.Notes"
                                     note-type-name="'Customer'"></div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading><span ng-class="{'text-danger': salesReturnNewWizardCtrl.forms.Confirmation.$invalid}"><!--
                    --><i class="far fa-lg fa-check-square-o"></i>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.sales.salesOrderNewWizard.Step{{(salesReturnNewWizardCtrl.isSalesOrderPreSelected ? '3' : '5')}}"></span>&nbsp;<!--
                    --><span data-translate="ui.admin.common.Confirmation"></span></span></uib-tab-heading>
                    <div class="container-fluid" ng-form="salesReturnNewWizardCtrl.forms.Confirmation">
                        <div class="row">
                            <div class="col-md-12">
                                <h3 data-translate="ui.admin.controls.sales.salesReturnNewWizard.CreationSuccessMessage"></h3>
                                <span class="h4 block" ng-hide="checkoutPanelsCtrl.paypal.success">
                                    <span data-translate="ui.admin.controls.sales.salesReturnNewWizard.SalesReturnNumber"></span>&nbsp;<!--
                                    --><b ng-bind="salesReturnNewWizardCtrl.salesReturn.ID"></b>
                                </span>
                                <button type="button" class="btn btn-primary btn-lg mb-3"
                                        ng-disabled="!salesReturnNewWizardCtrl.salesReturn.ID"
                                        ui-sref="sales.salesReturns.detail({ 'ID': salesReturnNewWizardCtrl.salesReturn.ID })"
                                        ><span data-translate="ui.admin.controls.sales.salesReturnNewWizard.GoToSalesReturn"></span></button>
                            </div>
                        </div>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
    <div class="row wizard-footer">
        <div class="col-md-12">
            <button type="button" class="btn btn-info"
                    translate-attr="{ title: 'ui.admin.controls.sales.salesOrderNewWizard.PreviousStep',
                                      'aria-label': 'ui.admin.controls.sales.salesOrderNewWizard.PreviousStep' }"
                    data-translate="ui.admin.controls.sales.salesOrderNewWizard.PreviousStep"
                    ng-disabled="salesReturnNewWizardCtrl.viewState.running
                                 || salesReturnNewWizardCtrl.currentStep <= (salesReturnNewWizardCtrl.isSalesOrderPreSelected ? 2 : 0)"
                    ng-click="salesReturnNewWizardCtrl.prevStepGo()"></button>
            <button type="button" class="btn btn-warning"
                    translate-attr="{ title: 'ui.admin.controls.sales.salesOrderNewWizard.ResetStep',
                                      'aria-label': 'ui.admin.controls.sales.salesOrderNewWizard.ResetStep' }"
                    data-translate="ui.admin.controls.sales.salesOrderNewWizard.ResetStep"
                    ng-disabled="salesOrderNewWizardCtrl.viewState.running"
                    ng-click="salesReturnNewWizardCtrl.resetStep()"></button>
            <button type="button" class="btn btn-primary"
                    translate-attr="{ title: 'ui.admin.controls.sales.salesOrderNewWizard.NextStep',
                                      'aria-label': 'ui.admin.controls.sales.salesOrderNewWizard.NextStep' }"
                    data-translate="ui.admin.controls.sales.salesOrderNewWizard.NextStep"
                    ng-disabled="salesReturnNewWizardCtrl.viewState.running
                                 || salesReturnNewWizardCtrl.currentStep >= (salesReturnNewWizardCtrl.stepDefinitions.length - 1)
                                 || !salesReturnNewWizardCtrl.validateCurrentStep()"
                    ng-click="salesReturnNewWizardCtrl.nextStepGo()"></button>
            <div class="inline-block ml-3">
                <div class="w-100 alert alert-info" role="alert"
                     ng-if="salesReturnNewWizardCtrl.viewState.running"
                     ng-bind="salesReturnNewWizardCtrl.viewState.waitMessage || 'Running...'"></div>
                <div class="w-100 alert alert-danger" role="alert"
                     ng-if="salesReturnNewWizardCtrl.viewState.hasError
                            && !salesReturnNewWizardCtrl.viewState.errorMessages.length"
                     ng-bind="salesReturnNewWizardCtrl.viewState.errorMessage || 'There was an error!'"></div>
                <div class="w-100 alert alert-danger" role="alert"
                     ng-if="salesReturnNewWizardCtrl.viewState.hasError"
                     ng-repeat="s in salesReturnNewWizardCtrl.viewState.errorMessages"
                     ng-bind="s || 'There was an error!'"></div>
            </div>
        </div>
    </div>
</div>
