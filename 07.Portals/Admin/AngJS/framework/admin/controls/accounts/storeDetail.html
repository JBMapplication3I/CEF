<div class="container-fluid cv-details-form full-height">
  <div cef-standard-detail-header-widget
    record="storeEditorCtrl.record"
    new-kind-key="ui.admin.common.Store.New"
    existing-kind-key="ui.admin.common.Store">
  </div>
  <div class="row details-body">
    <div class="col-sm-12 store-editor">
      <uib-tabset class="tabs-left" vertical="true">
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Details.$invalid}"><i class="far fa-lg fa-info"></i>&nbsp;<!--
          --><span data-translate="ui.admin.common.Detail.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Details">
            <div class="row">
              <div class="col-sm-6">
                <h3 data-translate="ui.admin.common.BasicInformation"></h3>
                <text-input-form-group
                  key="Name"
                  ng-model="storeEditorCtrl.record.Name"
                  label-key="ui.admin.common.Name"
                  tooltip-text="The name of the record."
                  placeholder-key="ui.admin.common.Name"
                  max-length="256"
                  ng-required="true">
                </text-input-form-group>
                <div class="row">
                  <text-input-form-group
                    class="col-sm-9"
                    key="CustomKey"
                    ng-model="storeEditorCtrl.record.CustomKey"
                    label-key="ui.admin.common.Key"
                    tooltip-text="The key of the record. In most cases, this is provided by a third party system. This record specifically requires a unique value even if not integrated with a 3rd party system."
                    placeholder-key="ui.admin.common.Key"
                    max-length="128"
                    ng-required="false">
                  </text-input-form-group>
                  <div class="form-group col-sm-3">
                    <label class="control-label"
                      data-translate="ui.admin.controls.accounts.userDetail.CreatedDate">
                    </label>
                    <div class="input-group">
                      <label class="form-control-static font-weight-normal"
                        ng-bind="storeEditorCtrl.record.CreatedDate | date">
                      </label>
                    </div>
                  </div>
                </div>
                <select-form-group
                  key="TypeID"
                  ng-model="storeEditorCtrl.record.TypeID"
                  selections="storeEditorCtrl.types"
                  label-key="ui.admin.common.Type"
                  tooltip-text="The type of the record."
                  placeholder-key="ui.admin.common.Type"
                  ng-required="true">
                </select-form-group>
                <div class="form-group" ng-class="{'has-error': storeEditorCtrl.forms.Details.ddlCurrency.$invalid}">
                  <label class="control-label" data-translate="ui.admin.common.Currency"></label>
                  <div class="input-group">
                    <select class="form-control"
                      id="ddlCurrency" name="ddlCurrency"
                      ng-model="storeEditorCtrl.record.CurrencyID"
                      ng-options="c.ID as ((c.DisplayName || c.Name) + (c.CustomKey && c.CustomKey != '' ? ' [' + c.CustomKey + ']' : ''))
                                  for c in storeEditorCtrl.currencies
                                  | orderBy: ['SortOrder','DisplayName || Name']">
                      <option value="" data-translate="ui.admin.common.NoCurrency"></option>
                    </select>
                    <div ng-messages="storeEditorCtrl.forms.Details.ddlCurrency.$error">
                      <div ng-messages-include="{{'/framework/admin/widgets/forms/_validationMessages.html' | corsLink: 'ui'}}"></div>
                    </div>
                  </div>
                </div>
                <div class="form-group" ng-class="{'has-error': storeEditorCtrl.forms.Details.ddlLanguage.$invalid}">
                  <label class="control-label" data-translate="ui.admin.common.Language"></label>
                  <div class="input-group">
                    <!-- ng-options is custom, cannot use select-form-group -->
                    <select class="form-control"
                      id="ddlLanguage" name="ddlLanguage"
                      ng-options="l.ID as (l.UnicodeName + (l.CustomKey && l.CustomKey != '' ? ' [' + l.CustomKey + ']' : ''))
                                  for l in storeEditorCtrl.languages
                                  | orderBy: ['SortOrder','DisplayName || Name']"
                      ng-model="storeEditorCtrl.record.LanguageID">
                      <option value="" data-translate="ui.admin.common.NoLanguage"></option>
                    </select>
                    <div ng-messages="storeEditorCtrl.forms.Details.ddlLanguage.$error">
                      <div ng-messages-include="{{'/framework/admin/widgets/forms/_validationMessages.html' | corsLink: 'ui'}}"></div>
                    </div>
                  </div>
                </div>
                <h3 data-translate="ui.admin.common.StoreInformation"></h3>
                <text-input-form-group
                  key="ExternalUrl"
                  ng-model="storeEditorCtrl.record.ExternalUrl"
                  label-key="ui.admin.controls.accounts.storeDetail.ExternalUrl"
                  placeholder-key="ui.admin.controls.accounts.storeDetail.ExternalUrl"
                  max-length="512"
                  ng-required="false">
                </text-input-form-group>
                <textarea-form-group
                  key="Slogan"
                  ng-model="storeEditorCtrl.record.Slogan"
                  placeholder-key="ui.admin.controls.accounts.storeDetail.Slogan"
                  label-key="ui.admin.controls.accounts.storeDetail.Slogan"
                  max-length="1024"
                  ng-required="false">
                </textarea-form-group>
                <textarea-form-group
                  key="MissionStatement"
                  ng-model="storeEditorCtrl.record.MissionStatement"
                  placeholder-key="ui.admin.controls.accounts.storeDetail.MissionStatement"
                  label-key="ui.admin.controls.accounts.storeDetail.MissionStatement"
                  max-length="1024"
                  ng-required="false">
                </textarea-form-group>
                <textarea-wysiwyg-form-group
                  key="Overview"
                  ng-model="storeEditorCtrl.record.Overview"
                  placeholder-key="ui.admin.controls.accounts.storeDetail.Overview"
                  label-key="ui.admin.controls.accounts.storeDetail.Overview"
                  ng-required="false">
                </textarea-wysiwyg-form-group>
                <textarea-wysiwyg-form-group
                  key="About"
                  ng-model="storeEditorCtrl.record.About"
                  placeholder-key="ui.admin.controls.accounts.storeDetail.About"
                  label-key="ui.admin.controls.accounts.storeDetail.About"
                  ng-required="false">
                </textarea-wysiwyg-form-group>
                <textarea-wysiwyg-form-group
                  key="Description"
                  ng-model="storeEditorCtrl.record.Description"
                  placeholder-key="ui.admin.common.Description"
                  label-key="ui.admin.common.Description"
                  tooltip-key="ui.admin.common.Description.Tooltip"
                  ng-required="false">
                </textarea-wysiwyg-form-group>
              </div>
              <div class="col-sm-6" ng-if="storeEditorCtrl.record">
                <div cef-contact-editor-widget
                  class="mb-3"
                  contact="storeEditorCtrl.record.Contact"
                  is-editable="true"
                  id-suffix="store"
                  hide-key="true">
                </div>
                <div cef-seo-editor
                  master="storeEditorCtrl.record">
                </div>
                <h3 data-translate="ui.admin.controls.accounts.storeDetail.OperatingHours"></h3>
                <div class="form-group mb-0" ng-class="{'has-error': storeEditorCtrl.forms.Details.ddlTimeZone.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.TimeZone">
                    </div>
                    <select class="form-control"
                      id="ddlTimeZone" name="ddlTimeZone"
                      ng-options="tz.Id as tz.DisplayName for tz in storeEditorCtrl.timeZones"
                      ng-model="storeEditorCtrl.record.OperatingHoursTimeZoneId">
                      <option value="" ng-disabled="true"
                        data-translate="ui.admin.controls.accounts.storeDetail.SelectATimeZone">
                      </option>
                    </select>
                  </div>
                  <div ng-messages="storeEditorCtrl.forms.Details.ddlTimeZone.$error">
                    <div ng-messages-include="{{'/framework/admin/widgets/forms/_validationMessages.html' | corsLink: 'ui'}}"></div>
                  </div>
                </div>
                <div class="form-group mb-0"
                  ng-class="{'has-error': storeEditorCtrl.forms.Details.timeMondayStart.$invalid || storeEditorCtrl.forms.Details.timeMondayEnd.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.Monday">
                    </div>
                    <select class="form-control" id="timeMondayStart" name="timeMondayStart"
                      ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                      ng-model="storeEditorCtrl.record.OperatingHoursMondayStart">
                      <option value="">--</option>
                    </select>
                    <div class="input-group-addon with-control">
                      <select class="form-control" style="min-width: 125px;"
                        id="timeMondayEnd" name="timeMondayEnd"
                        ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                        ng-model="storeEditorCtrl.record.OperatingHoursMondayEnd">
                        <option value="">--</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group mb-0"
                  ng-class="{'has-error':storeEditorCtrl.forms.Details.timeTuesdayStart.$invalid || storeEditorCtrl.forms.Details.timeTuesdayEnd.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.Tuesday">
                    </div>
                    <select class="form-control"
                      id="timeTuesdayStart" name="timeTuesdayStart"
                      ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                      ng-model="storeEditorCtrl.record.OperatingHoursTuesdayStart">
                      <option value="">--</option>
                    </select>
                    <div class="input-group-addon with-control">
                      <select class="form-control" style="min-width: 125px;"
                        id="timeTuesdayEnd" name="timeTuesdayEnd"
                        ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                        ng-model="storeEditorCtrl.record.OperatingHoursTuesdayEnd">
                        <option value="">--</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group mb-0"
                  ng-class="{'has-error':storeEditorCtrl.forms.Details.timeWednesdayStart.$invalid || storeEditorCtrl.forms.Details.timeWednesdayEnd.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.Wednesday">
                    </div>
                    <select class="form-control"
                      id="timeWednesdayStart" name="timeWednesdayStart"
                      ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                      ng-model="storeEditorCtrl.record.OperatingHoursWednesdayStart">
                      <option value="">--</option>
                    </select>
                    <div class="input-group-addon with-control">
                      <select class="form-control" style="min-width: 125px;"
                        id="timeWednesdayEnd" name="timeWednesdayEnd"
                        ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                        ng-model="storeEditorCtrl.record.OperatingHoursWednesdayEnd">
                        <option value="">--</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group mb-0"
                  ng-class="{'has-error':storeEditorCtrl.forms.Details.timeThursdayStart.$invalid || storeEditorCtrl.forms.Details.timeThursdayEnd.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.Thursday">
                    </div>
                    <select class="form-control"
                      id="timeThursdayStart" name="timeThursdayStart"
                      ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                      ng-model="storeEditorCtrl.record.OperatingHoursThursdayStart">
                      <option value="">--</option>
                    </select>
                    <div class="input-group-addon with-control">
                      <select class="form-control" style="min-width: 125px;"
                        id="timeThursdayEnd" name="timeThursdayEnd"
                        ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                        ng-model="storeEditorCtrl.record.OperatingHoursThursdayEnd">
                        <option value="">--</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group mb-0"
                  ng-class="{'has-error':storeEditorCtrl.forms.Details.timeFridayStart.$invalid || storeEditorCtrl.forms.Details.timeFridayEnd.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.Friday">
                    </div>
                    <select class="form-control"
                      id="timeFridayStart" name="timeFridayStart"
                      ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                      ng-model="storeEditorCtrl.record.OperatingHoursFridayStart">
                      <option value="">--</option>
                    </select>
                    <div class="input-group-addon with-control">
                      <select class="form-control" style="min-width: 125px;"
                        id="timeFridayEnd" name="timeFridayEnd"
                        ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                        ng-model="storeEditorCtrl.record.OperatingHoursFridayEnd">
                        <option value="">--</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group mb-0"
                  ng-class="{'has-error':storeEditorCtrl.forms.Details.timeSaturdayStart.$invalid || storeEditorCtrl.forms.Details.timeSaturdayEnd.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.Saturday">
                    </div>
                    <select class="form-control"
                      id="timeSaturdayStart" name="timeSaturdayStart"
                      ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                      ng-model="storeEditorCtrl.record.OperatingHoursSaturdayStart">
                      <option value="">--</option>
                    </select>
                    <div class="input-group-addon with-control">
                      <select class="form-control" style="min-width: 125px;"
                        id="timeSaturdayEnd" name="timeSaturdayEnd"
                        ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                        ng-model="storeEditorCtrl.record.OperatingHoursSaturdayEnd">
                        <option value="">--</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group"
                  ng-class="{'has-error':storeEditorCtrl.forms.Details.timeSundayStart.$invalid || storeEditorCtrl.forms.Details.timeSundayEnd.$invalid}">
                  <div class="input-group">
                    <div class="input-group-addon stack"
                      data-translate="ui.admin.controls.accounts.storeDetail.Sunday">
                    </div>
                    <select class="form-control"
                      id="timeSundayStart" name="timeSundayStart"
                      ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                      ng-model="storeEditorCtrl.record.OperatingHoursSundayStart">
                      <option value="">--</option>
                    </select>
                    <div class="input-group-addon with-control">
                      <select class="form-control" style="min-width: 125px;"
                        id="timeSundayEnd" name="timeSundayEnd"
                        ng-options="h.value as h.display for h in storeEditorCtrl.hoursList"
                        ng-model="storeEditorCtrl.record.OperatingHoursSundayEnd">
                        <option value="">--</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab ng-if="vendorDetailCtrl.cefConfig.featureSet.stores.minMax">
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.MinOrders.$invalid}"><i class="far fa-lg fa-list"></i>&nbsp;<!--
          --><span data-translate="ui.admin.controls.inventory.categoryDetail.MinimumOrders.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.MinOrders">
            <div class="row">
              <div cef-order-minimums-editor
                master="storeEditorCtrl.record"
                class="col-sm-12">
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab ng-if="vendorDetailCtrl.cefConfig.featureSet.stores.minMax && categoryDetailCtrl.cefConfig.featureSet.shipping.enabled">
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.MinFreeShip.$invalid}"><i class="far fa-lg fa-truck"></i>&nbsp;<!--
          --><span data-translate="ui.admin.controls.inventory.categoryDetail.FreeShipping"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.MinFreeShip">
            <div class="row">
              <div cef-free-shipping-minimums-editor
                master="storeEditorCtrl.record"
                class="col-sm-12">
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Images.$invalid}"><i class="far fa-lg fa-picture-o"></i>&nbsp;<!--
          --><span data-translate="ui.admin.common.Image.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Images">
            <div class="row">
              <div class="col-sm-12">
                <h3 data-translate="ui.admin.common.Image.Plural"></h3>
              </div>
              <div class="col-sm-12">
                <!-- Uploader -->
                <div cef-upload-image-widget
                  master="storeEditorCtrl.record"
                  upload-type="ImageStore"
                  type-key="General"
                  allow-multiple="true"
                  is-primary="false">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <!-- Thumbnails -->
                <div class="form-group">
                  <label class="control-label"
                    data-translate="ui.admin.common.UploadedImage.Plural">
                  </label>
                  <div class="input-group">
                    <div ng-if="!storeEditorCtrl.record.Images.length"
                      data-translate="ui.admin.common.NoImagesHaveBeenUploaded">
                    </div>
                    <div ng-repeat="image in storeEditorCtrl.record.Images"
                      class="thumbnail col-sm-4 col-md-3 col-lg-2">
                      <div class="form-vertical">
                        <div class="form-group">
                          <img alt="{{image.Name}}" class="col-sm-12 img-rounded"
                            ng-src="{{(image.ThumbnailFileName || image.OriginalFileName)
                              | corsImageLink : 'stores' : { 'maxwidth': 250, 'maxheight': 250, 'mode': 'pad', 'scale': 'both' } }}"
                            onerror="this.onerror=null;this.src='/DesktopModules/ClarityEcommerce/UI-Admin/framework/store/img/placeholder.jpg?maxwidth=250&amp;maxheight=250&amp;mode=pad&amp;scale=both';" />
                        </div>
                        <div class="form-group">
                          <label class="control-label" data-translate="ui.admin.common.Name"></label>
                          <div class="input-group">
                            <input type="text" class="form-control"
                              id="txtImageName{{$index}}" name="txtImageName{{$index}}"
                              ng-model="image.Name" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label" data-translate="ui.admin.common.Type"></label>
                          <div class="input-group">
                            <select class="form-control"
                              id="ddlImageNewType{{$index}}" name="ddlImageNewType{{$index}}"
                              ng-required="true"
                              ng-options="t.ID as ((t.DisplayName || t.Name) + (t.CustomKey && t.CustomKey != '' ? ' [' + t.CustomKey + ']' : ''))
                                          for t in storeEditorCtrl.imageTypes
                                          | orderBy: ['SortOrder','DisplayName || Name']"
                              ng-model="image.TypeID"></select>
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label"
                            data-translate="ui.admin.controls.inventory.productDetail.PrimaryImageShownFirst">
                          </label>
                          <div class="input-group">
                            <toggle class="btn-block"
                              id="ckIsPrimaryNew{{$index}}" name="ckIsPrimaryNew{{$index}}"
                              ng-model="image.IsPrimary"
                              ng-change="storeEditorCtrl.clearOtherPrimaryImagesNew($index)"
                              data-on="Primary" data-truestyle="btn-success"
                              data-off="Other" data-offstyle="btn-info">
                            </toggle>
                          </div>
                        </div>
                        <button type="button" class="btn btn-danger btn-block"
                          translate-attr="{ title: 'ui.admin.common.Remove',
                                            'aria-label': 'ui.admin.common.Remove' }"
                          ng-click="storeEditorCtrl.removeImageNew($index)">
                          <i class="far fa-trash-o" aria-hidden="true"></i>&nbsp;<!--
                          --><span data-translate="ui.admin.common.Remove"></span>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Products.$invalid}"><i class="far fa-lg fa-object-group"></i>&nbsp;<!--
          --><span data-translate="ui.admin.common.Product.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Products">
            <div class="row"><div class="col-sm-12"><h3 data-translate="ui.admin.controls.accounts.storeDetail.ProductsThatThisStoreSells"></h3></div></div>
            <div class="row" ng-hide="storeEditorCtrl.display.ShowAddProductsPanel">
              <div class="col-sm-12">
                <button type="button" class="btn btn-primary"
                  ng-click="storeEditorCtrl.showAddProductsPanel()"
                  data-translate="ui.admin.common.AddProduct">
                </button>
                <button ng-if="storeEditorCtrl.cefConfig.featureSet.stores.cloneProducts.enabled"
                  type="button" class="btn btn-info"
                  ng-click="storeEditorCtrl.cloneProducts()">
                  <i class="far fa-fw fa-object-group"></i>&nbsp<!--
                  -->Clone Products
                </button>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12" ng-hide="storeEditorCtrl.display.ShowAddProductsPanel">
                <table class="table">
                  <thead>
                    <tr>
                      <th style="width:15%;" data-translate="ui.admin.controls.accounts.storeDetail.VisibleInStore"></th>
                      <th style="width:50px;" data-translate="ui.admin.common.Number.Symbol"></th>
                      <th style="width:20%;" data-translate="ui.admin.common.Key"></th>
                      <th style="width:60%;" data-translate="ui.admin.common.Name"></th>
                      <th style="width:43px;"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-if="!storeEditorCtrl.record.Products.length">
                      <td colspan="5" data-translate="ui.admin.common.NoProductsHaveBeenAdded"></td>
                    </tr>
                    <tr ng-repeat="sp in storeEditorCtrl.record.Products">
                      <td>
                        <toggle class="btn btn-block"
                          id="ckIsVisibleIn{{$index}}" name="ckIsVisibleIn{{$index}}"
                          ng-model="sp.IsVisibleIn"
                          data-on="{{'ui.admin.common.Visible' | translate}}" data-truestyle="btn-success"
                          data-off="{{'ui.admin.common.Hidden' | translate}}" data-offstyle="btn-danger">
                        </toggle>
                      </td>
                      <td><label class="form-control-static" ng-bind="sp.SlaveID"></label></td>
                      <td><label class="form-control-static" ng-bind="sp.SlaveKey"></label></td>
                      <td><label class="form-control-static" ng-bind="sp.SlaveName"></label></td>
                      <td>
                        <button type="button" class="btn btn-danger"
                          ng-click="storeEditorCtrl.removeProduct($index)">
                          <i class="far fa-times"></i><!--
                          --><span class="sr-only" data-translate="ui.admin.common.Delete"></span>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-md-12" ng-show="storeEditorCtrl.display.ShowAddProductsPanel">
                <div class="separator bottom"></div>
                <div class="filter-bar">
                  <div class="margin-none form-inline">
                    <div class="form-group col-sm-3">
                      <label data-translate="ui.admin.common.Key"></label>
                      <div class="input-group">
                        <input type="text" class="form-control"
                          ng-model="storeEditorCtrl.productSearchParams.ProductCode" />
                      </div>
                    </div>
                    <div class="form-group col-sm-3">
                      <label data-translate="ui.admin.common.Name"></label>
                      <div class="input-group">
                        <input type="text" class="form-control"
                          ng-model="storeEditorCtrl.productSearchParams.ProductName" />
                      </div>
                    </div>
                    <div class="form-group col-sm-6">
                      <label>&nbsp;</label>
                      <div class="input-group">
                        <button type="button" class="btn btn-info"
                          ng-click="storeEditorCtrl.searchProducts()">
                          <i class="far fa-fw fa-filter"></i>&nbsp;<!--
                          --><span data-translate="ui.admin.controls.accounts.storeDetail.SearchProduct.Plural"></span>
                        </button>
                        <button type="button" class="btn btn-primary"
                          ng-click="storeEditorCtrl.addProducts()">
                          <i class="far fa-fw fa-plus"></i>&nbsp;<!--
                          --><span data-translate="ui.admin.controls.accounts.storeDetail.AddSelectedProduct.Plural"></span>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <table class="table">
                  <thead>
                    <tr>
                      <th data-translate="ui.admin.common.Select"></th>
                      <th data-translate="ui.admin.common.Key"></th>
                      <th data-translate="ui.admin.common.Name"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-hide="storeEditorCtrl.products.length">
                      <td colspan="4" data-translate="ui.admin.controls.accounts.storeDetail.NoProductsWereFoundWithThisSearchCriteria"></td>
                    </tr>
                    <tr ng-repeat="product in storeEditorCtrl.products">
                      <td><input type="checkbox" ng-model="product.Selected" /></td>
                      <td ng-bind="product.CustomKey"></td>
                      <td ng-bind="product.Name"></td>
                    </tr>
                  </tbody>
                </table>
                <div class="form-actions m-0">
                  <button type="button" class="btn btn-primary"
                    ng-click="storeEditorCtrl.addProducts()">
                    <i class="far fa-fw fa-plus"></i>&nbsp;<!--
                    --><span data-translate="ui.admin.controls.accounts.storeDetail.AddSelectedProduct.Plural"></span>
                  </button>
                  <button type="button" class="btn btn-info"
                    ng-click="storeEditorCtrl.hideAddProductsPanel()">
                    <i class="far fa-fw fa-undo"></i>&nbsp;<!--
                    --><span data-translate="ui.admin.common.Cancel"></span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab ng-if="storeEditorCtrl.cefConfig.featureSet.inventory.advanced.enabled">
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Warehouses.$invalid}"><i class="far fa-lg fa-truck"></i>&nbsp;<!--
          --><span data-translate="ui.admin.common.Warehouse.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Warehouses">
            <div class="row"><div class="col-sm-12"
              ><h3 class="mb-3" data-translate="ui.admin.controls.accounts.storeDetail.WarehousesThatCoverThisStore"></h3></div></div>
            <div class="row">
              <div class="col-sm-12 col-md-6 col-lg-8">
                <h4 data-translate="ui.admin.controls.accounts.discountDetail.SelectWarehousesToAdd"></h4>
                <div cef-paging-header paging="storeEditorCtrl.inventoryLocationPaging"></div>
                <div class="table-responsive">
                  <table class="table table-striped table-hover table-condensed mb-0">
                    <thead>
                      <tr>
                        <th class="w-5" data-translate="ui.admin.common.Number.Symbol"></th>
                        <th class="w-35" data-translate="ui.admin.common.Key"></th>
                        <th class="w-60" data-translate="ui.admin.common.Name"></th>
                        <th style="width:43px;"></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-show="storeEditorCtrl.inventoryLocationPaging.filteredCount === 0">
                        <td colspan="4" data-translate="ui.admin.controls.sales.modals.editALineItemModal.NoResultsFound"></td>
                      </tr>
                      <tr ng-repeat="p in storeEditorCtrl.inventoryLocationPaging.filteredData[storeEditorCtrl.inventoryLocationPaging.currentPage]
                                    | orderBy: ['SortOrder','Group','DisplayName || Name','CustomKey']
                                    | limitTo: storeEditorCtrl.inventoryLocationPaging.pageSize
                                             : storeEditorCtrl.inventoryLocationPaging.skip()">
                        <td><label class="font-weight-normal form-control-static" ng-bind="p.ID"></label></td>
                        <td><label class="font-weight-normal form-control-static" ng-bind="p.CustomKey"></label></td>
                        <td><label class="font-weight-normal form-control-static" ng-bind="p.Name"></label></td>
                        <td>
                          <button type="button" class="btn btn-success"
                            translate-attr="{ title: 'ui.admin.common.Add',
                                              'aria-label': 'ui.admin.common.Add' }"
                            ng-click="storeEditorCtrl.addInventoryLocation(p.ID)">
                            <i class="far fa-plus"></i>
                            <span class="sr-only" data-translate="ui.admin.common.Add"></span>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-4 scroll-over-500">
                <h4 data-translate="ui.admin.controls.accounts.discountDetail.AddedWarehouses"></h4>
                <label class="control-label" data-translate="ui.admin.common.QuickFilter"></label>
                <input type="text" class="form-control mb-3"
                  translate-attr="{ placeholder: 'ui.admin.common.QuickFilter' }"
                  ng-model="storeEditorCtrl.addedInventoryLocationsQuickFilter" />
                <table class="table table-striped table-hover table-condensed mb-0">
                  <thead>
                    <tr>
                      <th data-translate="ui.admin.common.Warehouse"></th>
                      <th class="w-40" data-translate="ui.admin.common.Type"></th>
                      <th style="width:43px;"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-if="!(storeEditorCtrl.record.StoreInventoryLocations | filter: { $: storeEditorCtrl.addedInventoryLocationsQuickFilter }).length">
                      <td colspan="3" data-translate="ui.admin.controls.sales.modals.editALineItemModal.NoResultsFound"></td>
                    </tr>
                    <tr ng-repeat="sil in storeEditorCtrl.record.StoreInventoryLocations
                                  | filter: { $: storeEditorCtrl.addedInventoryLocationsQuickFilter }
                                  | orderBy: ['SlaveName || Slave.Name || InventoryLocationName || InventoryLocation.Name']">
                      <td>
                        <label class="font-weight-normal form-control-static"
                          uib-tooltip="{{'#' + (sil.SlaveID | zeroPadNumber: 6)
                                        + ' ' + (sil.SlaveName || sil.Slave.Name)
                                        + ' [' + (sil.SlaveKey || sil.Slave.CustomKey) + ']'}}"
                          tooltip-placement="auto top-left"
                          ng-bind="sil.SlaveName || sil.Slave.Name"></label>
                      </td>
                      <td>
                        <select class="form-control"
                          id="ddlWarehouseType{{$index}}" name="ddlWarehouseType{{$index}}"
                          ng-required="false"
                          ng-options="t.ID as ((t.DisplayName || t.Name) + (t.CustomKey ? ' [' + t.CustomKey + ']' : ''))
                                      for t in storeEditorCtrl.storeInventoryLocationTypes
                                      | orderBy: ['SortOrder','DisplayName || Name']"
                          ng-model="sil.TypeID">
                        </select>
                      </td>
                      <td>
                        <button type="button" class="btn btn-danger"
                          translate-attr="{ title: 'ui.admin.common.Remove',
                                            'aria-label': 'ui.admin.common.Remove' }"
                          ng-click="storeEditorCtrl.removeInventoryLocation($index)">
                          <i class="far fa-times"></i>
                          <span class="sr-only" data-translate="ui.admin.common.Remove"></span>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Brands.$invalid}"><i class="far fa-lg fa-flag"></i>&nbsp;<!--
          --><span data-translate="ui.admin.common.Brand.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Brands">
            <div class="row">
              <div class="col-sm-12">
                <div cef-associator-widget
                  title-key="ui.admin.common.Brand.Plural"
                  select-key="ui.admin.controls.accounts.discountDetail.SelectBrandsToAdd"
                  added-key="ui.admin.controls.accounts.discountDetail.AddedBrands"
                  added-sub-key="ui.admin.common.Brand"
                  name="brands"
                  master="storeEditorCtrl.record"
                  api-call="storeEditorCtrl.cvApi.brands.GetBrands"
                  collection="BrandStores">
                </div>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Badges.$invalid}"
            ><i class="far fa-lg fa-certificate"></i>&nbsp;<span data-translate="ui.admin.common.Badge.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Badges">
            <div class="row">
              <div class="col-sm-12">
                <div cef-associator-widget
                  title-key="ui.admin.common.Badge.Plural"
                  select-key="ui.admin.controls.accounts.discountDetail.SelectBadgesToAdd"
                  added-key="ui.admin.controls.accounts.discountDetail.AddedBadges"
                  added-sub-key="ui.admin.common.Badge"
                  name="badges"
                  master="storeEditorCtrl.record"
                  api-call="storeEditorCtrl.cvApi.badges.GetBadges"
                  collection="StoreBadges">
                </div>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab ng-if="storeEditorCtrl.record.ID">
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Accounts.$invalid}"
            ><i class="far fa-lg fa-address-card"></i>&nbsp;<span data-translate="ui.admin.common.Account.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Accounts">
            <div class="row">
              <div class="col-sm-12">
                <div cef-associator-widget
                  title-key="ui.admin.common.Account.Plural"
                  select-key="ui.admin.controls.accounts.discountDetail.SelectAccountsToAdd"
                  added-key="ui.admin.controls.accounts.discountDetail.AddedAccounts"
                  added-sub-key="ui.admin.common.Account"
                  name="accounts"
                  master="storeEditorCtrl.record"
                  api-call="storeEditorCtrl.cvApi.accounts.GetAccounts"
                  collection="Accounts"
                  defaults="{ HasAccessToStore: true }">
                </div>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Users.$invalid}"
            ><i class="far fa-lg fa-users"></i>&nbsp;<span data-translate="ui.admin.common.User.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Users">
            <div class="row"><div class="col-sm-12"
              ><h3 class="mb-3" data-translate="ui.admin.controls.accounts.storeDetail.UsersAssociatedToThisStore"></h3></div></div>
            <div class="row">
              <div class="col-sm-12 mb-3">
                <button type="button" class="btn btn-info"
                  translate-attr="{ title: 'ui.admin.controls.accounts.accountDetail.AddNewUser',
                                    'aria-label': 'ui.admin.controls.accounts.accountDetail.AddNewUser' }"
                  data-translate="ui.admin.controls.accounts.accountDetail.AddNewUser"
                  ng-click="storeEditorCtrl.openAddNewUserModal()">
                </button>
                <!--
                <button type="button" class="btn btn-info ml-1"
                  transalte-attr="{ title: 'ui.admin.controls.accounts.accountDetail.AddExistingUser',
                                    'aria-label': 'ui.admin.controls.accounts.accountDetail.AddExistingUser' }"
                  data-translate="ui.admin.controls.accounts.accountDetail.AddExistingUser"
                  ng-click="storeEditorCtrl.openAddExistingUserModal()">
                </button>
                -->
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12 col-md-6 col-lg-8">
                <h4 data-translate="ui.admin.controls.accounts.discountDetail.SelectUsersToAdd"></h4>
                <div cef-paging-header paging="storeEditorCtrl.userPaging"></div>
                <div class="table-responsive">
                  <table class="table table-striped table-hover table-condensed mb-0">
                    <thead>
                      <tr>
                        <th class="w-5" data-translate="ui.admin.common.Number.Symbol"></th>
                        <th class="w-35" data-translate="ui.admin.common.Key"></th>
                        <th class="w-60" data-translate="ui.admin.common.Name"></th>
                        <th style="width:43px;"></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-show="storeEditorCtrl.userPaging.filteredCount === 0">
                        <td colspan="4" data-translate="ui.admin.controls.sales.modals.editALineItemModal.NoResultsFound"></td>
                      </tr>
                      <tr ng-repeat="p in storeEditorCtrl.userPaging.filteredData[storeEditorCtrl.userPaging.currentPage]
                                    | orderBy: ['SortOrder','Group','DisplayName || Name','CustomKey']
                                    | limitTo: storeEditorCtrl.userPaging.pageSize
                                              : storeEditorCtrl.userPaging.skip()">
                        <td><label class="font-weight-normal form-control-static" ng-bind="p.ID"></label></td>
                        <td><label class="font-weight-normal form-control-static" ng-bind="p.UserName || p.CustomKey"></label></td>
                        <td><label class="font-weight-normal form-control-static"
                          ng-bind="p.DisplayName || (p.ContactFirstName + ' ' + p.ContactLastName)"></label></td>
                        <td>
                          <button type="button" class="btn btn-success"
                            translate-attr="{ title: 'ui.admin.common.Add',
                                              'aria-label': 'ui.admin.common.Add' }"
                            ng-click="storeEditorCtrl.addUser(p.ID)">
                            <i class="far fa-plus"></i><!--
                            --><span class="sr-only" data-translate="ui.admin.common.Add"></span>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-4 scroll-over-500">
                <h4 data-translate="ui.admin.controls.accounts.discountDetail.AddedUsers"></h4>
                <label class="control-label" data-translate="ui.admin.common.QuickFilter"></label>
                <input type="text" class="form-control mb-3"
                  translate-attr="{ placeholder: 'ui.admin.common.QuickFilter' }"
                  ng-model="storeEditorCtrl.addedUsersQuickFilter" />
                <table class="table table-striped table-hover table-condensed mb-0">
                  <thead>
                    <tr>
                      <th data-translate="ui.admin.common.User"></th>
                      <th style="width:43px;"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-if="!(storeEditorCtrl.record.Users | filter: { $: storeEditorCtrl.addedUsersQuickFilter }).length">
                      <td colspan="2" data-translate="ui.admin.controls.sales.modals.editALineItemModal.NoResultsFound"></td>
                    </tr>
                    <tr ng-repeat="su in storeEditorCtrl.record.Users
                                  | filter: { $: storeEditorCtrl.addedUsersQuickFilter }
                                  | orderBy: ['UserName','User.Name']">
                      <td>
                        <label class="font-weight-normal form-control-static"
                          uib-tooltip="{{'#' + (su.SlaveID | zeroPadNumber: 6)
                              + ' ' + (su.SlaveName || su.Slave.Name)
                              + ' [' + (su.SlaveKey || su.Slave.CustomKey) + ']'}}"
                          tooltip-placement="auto top-left"
                          ng-bind="su.SlaveKey || su.Slave.CustomKey">
                        </label>
                      </td>
                      <td>
                        <button type="button" class="btn btn-danger"
                          translate-attr="{ title: 'ui.admin.common.Remove',
                                            'aria-label': 'ui.admin.common.Remove' }"
                          ng-click="storeEditorCtrl.removeUser($index)">
                          <i class="far fa-times"></i>
                          <span class="sr-only" data-translate="ui.admin.common.Remove"></span>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Manufacturers.$invalid}"
            ><i class="far fa-lg fa-users"></i>&nbsp;<span data-translate="ui.admin.common.Manufacturer.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Manufacturers">
            <div class="row">
              <div class="col-sm-12">
                <!--
                <div cef-associator-widget
                  title-key="ui.admin.common.Manufacturer.Plural"
                  select-key="ui.admin.controls.accounts.discountDetail.SelectManufacturersToAdd"
                  added-key="ui.admin.controls.accounts.discountDetail.AddedManufacturers"
                  added-sub-key="ui.admin.common.Manufacturer"
                  name="manufacturers"
                  master="storeEditorCtrl.record"
                  api-call="storeEditorCtrl.cvApi.manufacturers.GetManufacturers"
                  collection="Manufacturers">
                </div>
                -->
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Vendors.$invalid}"
            ><i class="far fa-lg fa-users"></i>&nbsp;<span data-translate="ui.admin.common.Vendor.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Vendors">
            <div class="row">
              <div class="col-sm-12">
                <div cef-associator-widget
                  title-key="ui.admin.common.Vendor.Plural"
                  select-key="ui.admin.controls.accounts.discountDetail.SelectVendorsToAdd"
                  added-key="ui.admin.controls.accounts.discountDetail.AddedVendors"
                  added-sub-key="ui.admin.common.Vendor"
                  name="vendors"
                  master="storeEditorCtrl.record"
                  api-call="storeEditorCtrl.cvApi.vendors.GetVendors"
                  collection="Vendors">
                </div>
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Notes.$invalid}"><i class="far fa-lg fa-sticky-note-o"></i>&nbsp;<!--
          --><span data-translate="ui.admin.common.Note.Plural"></span></span></uib-tab-heading>
          <div class="container-fluid" ng-form="storeEditorCtrl.forms.Notes">
            <div class="row"><div class="col-sm-12"><h3 data-translate="ui.admin.common.Note.Plural"></h3></div></div>
            <div class="row">
              <div cef-notes-editor
                class="col-sm-12"
                notes="storeEditorCtrl.record.Notes"
                note-type-name="'Private'">
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab>
          <uib-tab-heading><span ng-class="{'text-danger': storeEditorCtrl.forms.Attributes.$invalid}"><i class="far fa-lg fa-list"></i>&nbsp;<!--
          --><span data-translate="ui.admin.common.Attribute.Plural"></span></span></uib-tab-heading>
          <div class="form-vertical container-fluid" ng-form="storeEditorCtrl.forms.Attributes">
            <div cef-json-attributes-editor
              master="storeEditorCtrl.record"
              type="Store"
              ng-if="storeEditorCtrl.record">
            </div>
          </div>
        </uib-tab>
      </uib-tabset>
    </div>
  </div>
  <!-- Form actions -->
  <div class="row details-footer">
    <div class="col-md-12">
      <cef-standard-detail-footer-buttons
        master-controller="storeEditorCtrl"
        return-state="accounts.stores.list"
        permissions-base="Stores.Store">
      </cef-standard-detail-footer-buttons>
      <button ng-if="storeEditorCtrl.cefConfig.featureSet.stores.cloneStore.enabled"
        type="button" class="btn btn-info pull-right"
        ng-click="storeEditorCtrl.cloneStore()">
        <i class="far fa-fw fa-copy"></i>&nbsp;<!--
        --><span data-translate="ui.admin.controls.accounts.storeDetail.CloneStore"></span>
      </button>
      <a class="btn btn-info pull-right"
        ng-if="storeEditorCtrl.record.SeoUrl"
        ui-sref-plus uisrp-is-product="true"
        uisrp-path="{{storeEditorCtrl.record.SeoUrl}}"
        target="_blank">
        <i class="far fa-external-link"></i>&nbsp;<!--
        --><span data-translate="ui.admin.controls.inventory.productDetail.SeeInStorefront"></span>
      </a>
    </div>
  </div>
</div>
