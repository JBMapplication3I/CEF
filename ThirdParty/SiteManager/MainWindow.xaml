<Window x:Class="SiteManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SiteManager"
        xmlns:vm="clr-namespace:SiteManager.ViewModels"
        xmlns:vmdsd="clr-namespace:SiteManager.ViewModels.DesignerSampleData"
        mc:Ignorable="d"
        Title="Site Manager | Clarity Ventures, Inc."
        d:DesignWidth="1176" d:DesignHeight="664"
        d:DataContext="{d:DesignInstance {x:Type vmdsd:MainWindowViewModelDesignSample}, IsDesignTimeCreatable=True}"
        Width="1280" Height="720"
        WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <vm:MainWindowViewModel />
    </Window.DataContext>

    <Grid x:Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition x:Name="TopBarRow"    Height="Auto" />
            <RowDefinition x:Name="MainBodyRow1" Height="*"    />
            <RowDefinition x:Name="StatusBarRow" Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="40*" />
            <ColumnDefinition Width="60*" />
        </Grid.ColumnDefinitions>

        <Menu x:Name="MainMenu" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
            <MenuItem Header="_File">
                <MenuItem Header="_New" Click="MenuItemFileNew_OnClick" IsEnabled="{Binding NewEnabled}" />
                <MenuItem Header="_Open" Click="MenuItemFileOpen_OnClick" IsEnabled="{Binding OpenEnabled}" />
                <MenuItem Header="_Save" Click="MenuItemFileSave_OnClick" IsEnabled="{Binding SaveEnabled}" />
                <Separator />
                <MenuItem Header="_Exit" Click="MenuItemFileExit_OnClick" />
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="_Word Wrap the Output Pane" IsCheckable="True" IsChecked="{Binding WordWrapEnabled}" />
            </MenuItem>
            <MenuItem x:Name="MenuItemRun" Header="_Run" IsEnabled="{Binding IsRunning, Converter={StaticResource InvBool}}" Click="MenuItemRun_OnClick" />
            <MenuItem x:Name="MenuItemCancel" Header="_Cancel" IsEnabled="{Binding IsRunning}" Click="MenuItemCancel_OnClick" />
        </Menu>

        <ScrollViewer Grid.Row="1" Grid.Column="0" Margin="0,0,15,0" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
            <StackPanel x:Name="SettingsGrid" Margin="5" DataContext="{Binding RunSettingsViewModel}" d:DataContext="{d:DesignInstance {x:Type vmdsd:RunSettingsViewModelDesignSample}, IsDesignTimeCreatable=True}">
                <Expander Header="Directories" IsExpanded="True">
                    <Grid IsEnabled="{Binding IsRunning, Converter={StaticResource InvBool}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="34" />
                        </Grid.ColumnDefinitions>
                        <Label   Grid.Row="00" Grid.Column="0" Grid.ColumnSpan="2" VerticalAlignment="Center"                                                   Content="CEF Directory" />
                        <TextBox Grid.Row="00" Grid.Column="2"                     VerticalAlignment="Center"     Height="24" VerticalContentAlignment="Center" Text="{Binding CEFDirectory}" />
                        <Button  Grid.Row="00" Grid.Column="3"                     Margin="-1,5,5,5"              Height="24"                     FontSize="4"  Content="&#x26AB;&#x26AB;&#x26AB;" Click="ButtonCEFDirectory_OnClick" IsEnabled="False" />
                        <Label   Grid.Row="01" Grid.Column="0"                     VerticalAlignment="Center" HorizontalContentAlignment="Center" FontSize="6"  Content="&#x26AB;" />
                        <Label   Grid.Row="01" Grid.Column="1"                     VerticalAlignment="Center"                                                   Content="Solution Items" />
                        <TextBox Grid.Row="01" Grid.Column="2"                     VerticalAlignment="Center"     Height="24" VerticalContentAlignment="Center" Text="{Binding SolutionItemsRelativeToCEFDirectory}" />
                        <Button  Grid.Row="01" Grid.Column="3"                     Margin="-1,5,5,5"              Height="24"                     FontSize="4"  Content="&#x26AB;&#x26AB;&#x26AB;" Click="ButtonSolutionItemsDirectory_OnClick" IsEnabled="False" />
                        <Label   Grid.Row="02" Grid.Column="0"                     VerticalAlignment="Center" HorizontalContentAlignment="Center" FontSize="6"  Content="&#x26AB;" />
                        <Label   Grid.Row="02" Grid.Column="1"                     VerticalAlignment="Center"                                                   Content="DataModel Project" />
                        <TextBox Grid.Row="02" Grid.Column="2"                     VerticalAlignment="Center"     Height="24" VerticalContentAlignment="Center" Text="{Binding DataModelRelativeToCEFDirectory}" />
                        <Button  Grid.Row="02" Grid.Column="3"                     Margin="-1,5,5,5"              Height="24"                     FontSize="4"  Content="&#x26AB;&#x26AB;&#x26AB;" Click="ButtonDataModelDirectory_OnClick" IsEnabled="False" />
                        <Label   Grid.Row="03" Grid.Column="0" Grid.ColumnSpan="2" VerticalAlignment="Center"                                                   Content="WEB Directory" />
                        <TextBox Grid.Row="03" Grid.Column="2"                     VerticalAlignment="Center"     Height="24" VerticalContentAlignment="Center" Text="{Binding WEBDirectory}" />
                        <Button  Grid.Row="03" Grid.Column="3"                     Margin="-1,5,5,5"              Height="24"                     FontSize="4"  Content="&#x26AB;&#x26AB;&#x26AB;" Click="ButtonWEBDirectory_OnClick" IsEnabled="False" />
                        <Label   Grid.Row="04" Grid.Column="0"                     VerticalAlignment="Center" HorizontalContentAlignment="Center" FontSize="6"  Content="&#x26AB;" />
                        <Label   Grid.Row="04" Grid.Column="1"                     VerticalAlignment="Center"                                                   Content="Skins Folder" />
                        <TextBox Grid.Row="04" Grid.Column="2"                     VerticalAlignment="Center"     Height="24" VerticalContentAlignment="Center" Text="{Binding PortalsRelativeToWEBDirectory}" />
                        <Button  Grid.Row="04" Grid.Column="3"                     Margin="-1,5,5,5"              Height="24"                     FontSize="4"  Content="&#x26AB;&#x26AB;&#x26AB;" Click="ButtonPortalsDirectory_OnClick" IsEnabled="False" />
                        <Label   Grid.Row="05" Grid.Column="0" Grid.ColumnSpan="2" VerticalAlignment="Center"                                                   Content="Images Directory" />
                        <TextBox Grid.Row="05" Grid.Column="2"                     VerticalAlignment="Center"     Height="24" VerticalContentAlignment="Center" Text="{Binding ImagesDirectory}" />
                        <Button  Grid.Row="05" Grid.Column="3"                     Margin="-1,5,5,5"              Height="24"                     FontSize="4"  Content="&#x26AB;&#x26AB;&#x26AB;" Click="ButtonImagesDirectory_OnClick" IsEnabled="False" />
                    </Grid>
                </Expander>
                <Expander Header="Project Info" IsExpanded="True">
                    <Grid IsEnabled="{Binding IsRunning, Converter={StaticResource InvBool}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Label   Grid.Row="00" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Project Acronym As Caps" />
                        <TextBox Grid.Row="00" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding ProjectAcronymAsCaps}" />
                        <Label   Grid.Row="01" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Project Acronym As Lower Case" />
                        <TextBox Grid.Row="01" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding ProjectAcronymAsLowerCase}" />
                        <Label   Grid.Row="02" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Skin Name" />
                        <TextBox Grid.Row="02" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding SkinName}" />
                        <Label   Grid.Row="03" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Project Name As Title Case" />
                        <TextBox Grid.Row="03" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding ProjectNameAsTitleCase}" />
                        <Label   Grid.Row="04" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Company Name" />
                        <TextBox Grid.Row="04" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding CompanyName}" />
                    </Grid>
                </Expander>
                <Expander Header="Environment" IsExpanded="True">
                    <Grid IsEnabled="{Binding IsRunning, Converter={StaticResource InvBool}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Label   Grid.Row="00" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Environment As Lower Case" />
                        <TextBox Grid.Row="00" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding EnvironmentAsLowerCase}" />
                        <Label   Grid.Row="01" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Main Domain" />
                        <TextBox Grid.Row="01" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding MainDomain}" />
                        <Label   Grid.Row="02" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Sub-Domain" />
                        <TextBox Grid.Row="02" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding SubDomain}" />
                        <Label   Grid.Row="03" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Full Domain" />
                        <TextBox Grid.Row="03" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding FullDomain}" />
                        <Label   Grid.Row="04" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Sub-Apps Root" />
                        <TextBox Grid.Row="04" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding SubAppsRoot}" />
                        <Label   Grid.Row="05" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Main Domain Title" />
                        <TextBox Grid.Row="05" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding MainDomainTitle}" />
                        <Label   Grid.Row="06" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Site Name" />
                        <TextBox Grid.Row="06" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding SiteName}" />
                    </Grid>
                </Expander>
                <Expander Header="Database" IsExpanded="True">
                    <Grid IsEnabled="{Binding IsRunning, Converter={StaticResource InvBool}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Label   Grid.Row="00" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Db Source (Server)" />
                        <TextBox Grid.Row="00" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding DbSource}" />
                        <Label   Grid.Row="01" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="CEF Db Name" />
                        <TextBox Grid.Row="01" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding CEFDbName}" />
                        <Label   Grid.Row="02" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="DNN Db Name" />
                        <TextBox Grid.Row="02" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding DNNDbName}" />
                        <Label   Grid.Row="03" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Db Auth Kind" />
                        <TextBox Grid.Row="03" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding DbAuthKind}" />
                        <Label   Grid.Row="04" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Connection String Format" />
                        <TextBox Grid.Row="04" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding ConnectionStringFormat}" />
                    </Grid>
                </Expander>
                <Expander Header="Normally Unchanging">
                    <Grid IsEnabled="{Binding IsRunning, Converter={StaticResource InvBool}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Label   Grid.Row="00" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="CEF Version" />
                        <TextBox Grid.Row="00" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding Version}" />
                        <Label   Grid.Row="01" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="Solution Name" />
                        <TextBox Grid.Row="01" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding SolutionName}" />
                        <Label   Grid.Row="02" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name API Prefix" />
                        <TextBox Grid.Row="02" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameAPIPrefix}" />
                        <Label   Grid.Row="03" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name UI Prefix" />
                        <TextBox Grid.Row="03" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameUIPrefix}" />
                        <Label   Grid.Row="04" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name DNN" />
                        <TextBox Grid.Row="04" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameDNN}" />
                        <Label   Grid.Row="05" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name Admin" />
                        <TextBox Grid.Row="05" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameAdmin}" />
                        <Label   Grid.Row="06" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name Storefront" />
                        <TextBox Grid.Row="06" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameStorefront}" />
                        <Label   Grid.Row="07" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name Brand Admin" />
                        <TextBox Grid.Row="07" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameBrandAdmin}" />
                        <Label   Grid.Row="08" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name Store Admin" />
                        <TextBox Grid.Row="08" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameStoreAdmin}" />
                        <Label   Grid.Row="09" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name Vendor Admin" />
                        <TextBox Grid.Row="09" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameVendorAdmin}" />
                        <Label   Grid.Row="10" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name Scheduler" />
                        <TextBox Grid.Row="10" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameScheduler}" />
                        <Label   Grid.Row="11" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name API Reference" />
                        <TextBox Grid.Row="11" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameAPIReference}" />
                        <Label   Grid.Row="12" Grid.Column="0" VerticalContentAlignment="Center" Margin="0"             Content="App Name Format" />
                        <TextBox Grid.Row="12" Grid.Column="1" VerticalContentAlignment="Center" Margin="5" Height="24" Text="{Binding AppNameFormat}" />
                    </Grid>
                </Expander>
            </StackPanel>
        </ScrollViewer>

        <GridSplitter Grid.Row="1" Grid.Column="0" Width="15" VerticalAlignment="Stretch" HorizontalAlignment="Right" >
            <GridSplitter.Background>
                <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                    <GradientStop Color="{DynamicResource {x:Static SystemColors.ControlColorKey}}" Offset="1"/>
                    <GradientStop Color="{DynamicResource {x:Static SystemColors.ControlDarkColorKey}}" Offset="0"/>
                </LinearGradientBrush>
            </GridSplitter.Background>
        </GridSplitter>
        <Label Grid.Row="1" Grid.Column="0" Content="⁞" VerticalAlignment="Center" HorizontalAlignment="right" FontSize="23" IsHitTestVisible="False" Width="15" >
            <Label.Foreground>
                <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.GrayTextColorKey}}"/>
            </Label.Foreground>
        </Label>

        <Grid x:Name="RightSideGrid" Grid.Row="1" Grid.Column="1">
            <TextBox x:Name="TxtOutput" Text="{Binding RunOutput.Output}" IsReadOnly="True"
                     FontFamily="Courier New" FontSize="12" Background="Black" Foreground="LightGray"
                     VerticalScrollBarVisibility="Visible"
                     HorizontalScrollBarVisibility="{Binding WordWrapEnabled, Converter={StaticResource InvBoolToVis}}"
                     TextWrapping="{Binding WordWrapEnabled, Converter={StaticResource BoolToWrap}}"/>
        </Grid>

        <StatusBar Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2">
            <StatusBar.ItemsPanel>
                <ItemsPanelTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                    </Grid>
                </ItemsPanelTemplate>
            </StatusBar.ItemsPanel>
            <StatusBarItem Grid.Column="0">
                <TextBlock Text="{Binding LastEventText, FallbackValue=Waiting\ for\ event...}"
                           Width="250"
                           TextTrimming="CharacterEllipsis"
                           ToolTip="{Binding LastEventText}" />
            </StatusBarItem>
            <StatusBarItem Grid.Column="2">
                <Grid>
                    <ProgressBar Minimum="0" Maximum="100" Value="{Binding Progress}" Height="16" Width="150" SmallChange="1" LargeChange="5" />
                    <TextBlock Text="{Binding Progress, StringFormat=\{0:0\}%, FallbackValue=0, IsAsync=True, TargetNullValue=0}" HorizontalAlignment="Center" />
                </Grid>
            </StatusBarItem>
            <StatusBarItem Grid.Column="4" HorizontalContentAlignment="Right">
                <TextBlock Text="{Binding LastAltEventText, FallbackValue=Some\ other\ status\ bar\ item\ content\ on\ the\ right}" />
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
